{% extends 'base/layout.html' %}
{% load helpers %}

{% block content %}
<div class="flex flex-col space-y-8">
  <div class="flex flex-col space-y-4">
    {% for incident in open_incidents %}
      <div>{{ incident.title }}</div>
      <div class="flex flex-col space-y-2">
        {% for update in incident.incident_updates.all %}
          <div>{{ update.text|markdown }}</div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
  <div class="flex flex-col space-y-4">
    {% for group in component_groups %}
      <div>{{ group.name }}</div>
      <div class="flex flex-col space-y-2">
        {% for component in group.components|get_visible_components %}
          <div>{{ component.name }}</div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
  <div class="flex flex-col space-y-4">
    {% for incident in resolved_incidents %}
      <div>{{ incident.title }}</div>
      <div class="flex flex-col space-y-2">
        {% for update in incident.incident_updates.all %}
          <div>{{ update.text|markdown }}</div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
</div>
{% endblock content %}
